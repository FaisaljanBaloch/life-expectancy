---
title: "Life Expectancy for Political Candidates"
author: "Faisal Jan"
format: html
execute: 
  echo: false
---

```{r}
#| message: false
library(tidyverse)
library(primer.data)
library(tidymodels)
library(broom)
library(knitr)
```

Elections are often rewarding in terms of perks but they can be stressing too, which might influence candidate's age and life. Using dataset of all the candidates in U.S. gubernatorial elections after 1850 to 2012, I seek to predict longevity of candidates after elections. Running for election as a woman may be different than a man, as it might have changed from initial years till now. I model years a candidate lived after election, as a linear model of candidate's sex and the age at the time of election.

$$ 
Y = \beta_0 + \beta_1 X_1 + \beta_2 X_2 + \cdots + \beta_n X_n + \epsilon, \quad \varepsilon \sim \mathcal{N}(0, \sigma^2) 
$$

$$
\widehat{\text{years\_lived}} = 56.30 + 3.66 \times \text{sexMale} - 0.709 \times \text{election\_age}
$$

```{r}
x <- governors |>
  select(lived_after, election_age, sex, region) |>
  drop_na() |>
  slice_sample(n = 1000)
```

```{r}
#| cache: true
fit_years <- fit_years <- linear_reg(engine = "lm") |> 
  fit(lived_after ~ sex + election_age, data = x)
```

```{r}
fit_years |> 
  tidy(conf.int = TRUE) |> 
  mutate(
    # Round numerical columns for cleaner display
    across(c(estimate, std.error, statistic, conf.low, conf.high), ~ round(., 2)),
    # Format p-value to scientific notation with specific digits
    p.value = formatC(p.value, format = "e", digits = 2)
  ) |>
  kable(
    caption = "Estimated Regression Coefficients and Confidence Intervals",
    col.names = c("Term", "Estimate", "Std. Error", "Statistic", "p-value", "Conf. Low", "Conf. High")
  )
```
